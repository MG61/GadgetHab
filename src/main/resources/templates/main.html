<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Главная страница</title>
    <link rel="stylesheet" href="/css/main.css"/>
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css">
    <link href="https://fonts.googleapis.com/css?family=Nunito:wght@100;200;300;400;500;600;700;800;900&display=swap"
          rel="stylesheet" type="text/css"/>
</head>

<body>

<section id="header">
    <a href="main.html" style="text-decoration: none; font-size: 24px; font-weight: 600; color: #1a153c">GadgetHab</a>

    <div>
        <ul id="navbar">
            <li><a class="active" href="main.html">Главная</a></li>
            <li><a href="shop.html">Магазин</a></li>
            <li><a href="about.html">О компании</a></li>
            <li><a href="contact.html">Контакты</a></li>
            <li id="lg-bag"><a href="cart.html"><i class="far fa-shopping-bag"></i></a></li>
            <a href="#" id="close"><i class="far fa-times"></i></a>
        </ul>
    </div>

    <div id="mobile">
        <a href="cart.html"><i class="far fa-shopping-bag"></i></a>
        <i id="bar" class="fas fa-outdent"></i>
    </div>
</section>

<section id="hero"
         style=" background-image: url(/img/mainback2.png); height: 90vh; width: 100%; background-size: cover; background-position: top 25% right 0; padding: 0 80px; ">
    <h4>Специальное предложение</h4>
    <h2>Супер скидки</h2>
    <h1>На все продукты</h1>
    <p>До 75%</p>
    <button onclick="location.href='shop.html'">Купить сейчас</button>
</section>

<section id="feature" class="section-p1">
    <div class="fe-box">
        <a href="vr.html">
            <img src="/img/categories/vr.png" style="width: 90px; height: 90px" alt=""/>
            <h6>Шлемы VR</h6>
        </a>
    </div>
    <div class="fe-box">
        <a href="console.html">
            <img src="/img/categories/gamepad.png" style="width: 90px; height: 90px" alt=""/>
            <h6>Консоли</h6>
        </a>
    </div>
    <div class="fe-box">
        <a href="headphones.html">
            <img src="/img/categories/headphones.png" style="width: 90px; height: 90px" alt=""/>
            <h6>Наушники</h6>
        </a>
    </div>
    <div class="fe-box">
        <a href="microphone.html">
            <img src="/img/categories/microphone.png" style="width: 90px; height: 90px" alt=""/>
            <h6>Микрофоны</h6>
        </a>
    </div>
    <div class="fe-box">
        <a href="pc.html">
            <img src="/img/categories/pc.png" style="width: 90px; height: 90px" alt=""/>
            <h6>Комплектующие</h6>
        </a>
    </div>
    <div class="fe-box">
        <a href="smartphones.html">
            <img src="/img/categories/smartphone.png" style="width: 90px; height: 90px" alt=""/>
            <h6>Смартфоны</h6>
        </a>
    </div>
    <div class="fe-box">
        <a href="games.html">
            <img src="/img/categories/game.png" style="width: 90px; height: 90px" alt=""/>
            <h6>Приложения и игры</h6>
        </a>
    </div>
    <div class="fe-box">
        <a href="laptop.html">
            <img src="/img/categories/laptop.png" style="width: 90px; height: 90px" alt=""/>
            <h6>Ноутбуки</h6>
        </a>
    </div>
</section>

<section id="product1" class="section-p1">
    <h2>Рекомендуемые товары</h2>
    <p>Летние распродажи</p>
    <div id="Recommendation" class="pro-container">

    </div>
</section>

<section id="banner" class="section-m1" style="background-image: url(/img/banner3.png)">
    <h4>Крутые товары</h4>
    <h2>Скидки <span>до 70%</span> - на все игровые микрофоны и наушники</h2>
    <button onclick="location.href='microphone.html'" class="normal">Узнать больше</button>
</section>

<section id="product2" class="section-p1">
    <h2>Новые поступления</h2>
    <p>Уже в продаже</p>
    <div id="Postupleniya" class="pro-container">

    </div>
</section>

<footer class="section-p1">
    <div class="col">
        <a href="#" class="logo" style="text-decoration: none; font-size: 24px; font-weight: 600; color: #1a153c">GadgetHab</a>
        <h4>Контакты</h4>
        <p><strong>Адрес:</strong> г.Москва ул. Нежинская 7</p>
        <p><strong>Телефон:</strong> +7-977-377-34-22</p>
        <p><strong>График:</strong> 10:00 - 17:00, Пон - Пят</p>
        <div class="follow">
            <h4>Подписывайтесь</h4>
            <div class="icon">
                <a href="https://github.com/MG61">
                    <i class="fab fa-github"></i>
                </a>
            </div>
        </div>
    </div>

    <div class="col">
        <h4>Категории</h4>
        <a href="vr.html">Шлемы VR</a>
        <a href="console.html">Консоли</a>
        <a href="headphones.html">Наушники</a>
        <a href="microphone.html">Микрофоны</a>
        <a href="pc.html">Комплектующие</a>
        <a href="smartphones.html">Смартфоны</a>
        <a href="games.html">Приложения и игры</a>
        <a href="laptop.html">Ноутбуки</a>
    </div>

    <div class="col">
        <h4>Мой аккаунт</h4>
        <a type="submit" id="Signout">Выйти</a>
        <a href="cart.html">Корзина</a>
        <a href="history.html">Мои покупки</a>
        <a href="contact.html">Помощь</a>
    </div>

    <div class="col install">
        <h4>Установить приложение</h4>
        <p>Скачайте прямо с сайта</p>
        <p>или с</p>
        <div onclick="window.location.href = 'about.html'" class="row">
            <img src="/img/download/google_play.png" style="width: 173px; height: 56px" alt=""/>
        </div>
    </div>

    <div class="copyright">
        <p>© 2023, ABRN</p>
    </div>
</footer>

<script type="module">
    import {initializeApp} from "https://www.gstatic.com/firebasejs/9.21.0/firebase-app.js";

    const firebaseConfig = {
        apiKey: "AIzaSyAaS3xROolYg3L52gzlpGB5sNh767PKeqg",
        authDomain: "mediamarkt-87e16.firebaseapp.com",
        databaseURL: "https://mediamarkt-87e16-default-rtdb.firebaseio.com",
        projectId: "mediamarkt-87e16",
        storageBucket: "mediamarkt-87e16.appspot.com",
        messagingSenderId: "1030181747159",
        appId: "1:1030181747159:web:263fd23d6bfd07b60bf392",
        measurementId: "G-BLP34HE0HP"
    };

    // Инициализация бд
    const app = initializeApp(firebaseConfig);
    import {getDatabase, ref, get, set, child, update, remove}
        from "https://www.gstatic.com/firebasejs/9.21.0/firebase-database.js";

    var db = getDatabase();


    const dbref = ref(db);

    get(child(dbref, "Recommendation/")).then((snapshot) => {
        snapshot.forEach(function (getALLLLLData) {
            var data = getALLLLLData.val();
            var namea = getALLLLLData.key;


            var image = data["image"];
            var name = data["name"];
            var price = data["price"];

            const tovar = [
                {
                    image: image,
                    name: name,
                    price: price,
                }
            ]

            const categories = [...new Set(tovar.map((item) => {
                return item
            }))]


            document.getElementById("Recommendation").innerHTML += categories.map((item) => {
                var {image, name, price} = item;
                return (
                    `
<div class='pro'>
<a href="sproduct.html" onclick="sessionStorage.setItem('id', 'Recommendation/' + ${namea})">
    <img src=${image} alt=''/>
    <div class='des'>
        <h5>${name}</h5>
        <h4>${price}</h4>
    </div>
</div>
`
                )
            });
        });
    });


    get(child(dbref, "Postupleniya/")).then((snapshot) => {
        snapshot.forEach(function (getALLLLLData) {
            var data = getALLLLLData.val();
            var namea = getALLLLLData.key;


            var image = data["image"];
            var name = data["name"];
            var price = data["price"];

            const tovar = [
                {
                    image: image,
                    name: name,
                    price: price,
                }
            ]

            const categories = [...new Set(tovar.map((item) => {
                return item
            }))]
            let i = 0;
            document.getElementById("Postupleniya").innerHTML += categories.map((item) => {
                var {image, name, price} = item;
                return (
                    `
<div class='pro' >
<a href="sproduct.html" onclick="sessionStorage.setItem('id', 'Postupleniya/' + ${namea})">
    <img src=${image} alt=''/>
    <div class='des'>
        <h5>${name}</h5>
        <h4>${price}</h4>
    </div>
</div>
`
                )
            });
        });
    });


</script>



<script type="module">
    import {initializeApp} from "https://www.gstatic.com/firebasejs/9.21.0/firebase-app.js";
    import {
        getAuth,
        createUserWithEmailAndPassword,
        signInWithEmailAndPassword,
        onAuthStateChanged,
        signOut
    } from "https://www.gstatic.com/firebasejs/9.21.0/firebase-auth.js";


    const firebaseConfig = {
        apiKey: "AIzaSyAaS3xROolYg3L52gzlpGB5sNh767PKeqg",
        authDomain: "mediamarkt-87e16.firebaseapp.com",
        databaseURL: "https://mediamarkt-87e16-default-rtdb.firebaseio.com",
        projectId: "mediamarkt-87e16",
        storageBucket: "mediamarkt-87e16.appspot.com",
        messagingSenderId: "1030181747159",
        appId: "1:1030181747159:web:263fd23d6bfd07b60bf392",
        measurementId: "G-BLP34HE0HP"
    };

    // Инициализация бд
    const app = initializeApp(firebaseConfig);
    import {getDatabase, ref, get, set, child, update, remove}
        from "https://www.gstatic.com/firebasejs/9.21.0/firebase-database.js";

    var Signout = document.getElementById("Signout");

    var auth = getAuth();
    var useurid = auth.email;
    console.log(useurid, auth);


    Signout.addEventListener('click', (e) => {

        signOut(auth).then(() => {
            sessionStorage.setItem('user', "");
            setTimeout(function () {
                window.location.href = 'authorization.html';
            }, 1 * 1000);
        }).catch((error) => {
            alert('ББ!');
        });
    });



</script>

<script src="/js/main/script.js"></script>

</body>

</html>